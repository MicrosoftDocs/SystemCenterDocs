---
title: Manage Certificates and User Roles in Service Provider Foundation
ms.custom: na
ms.prod: system-center-2012-sp1
ms.reviewer: na
ms.suite: na
ms.technology: 
  - service-provider-foundation
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 7bb08458-eef3-4500-819f-4d9b15ab1c09
---
# Manage Certificates and User Roles in Service Provider Foundation
[!INCLUDE[spflong](../Token/spflong_md.md)] provides a claims\-based authentication security model for a tenant's access to services and resources. It registers the certificate's public key and issuer name from an issued certificate, and maintains that information as trusted issuer objects.

To provide secure multi\-tenant operations, requests are performed in the context of a user role that maps a claim token from a tenant to a Tenant Administrator User Role or to a Tenant Self\-service User Role. These user roles must be defined in [!INCLUDE[vmm12long](../Token/vmm12long_md.md)] including their scope, resources, and actions.

Hoster administrators can use the [!INCLUDE[spfshort](../Token/spfshort_md.md)] OData services to create the required infrastructure. For more information, see the [Service Provider Foundation Developer's Guide](http://go.microsoft.com/fwlink/p/?LinkID=263700).

A typical on\-boarding tenant scenario is as follows:

1.  A prospective tenant investigates a hoster's services by evaluating the offered plans.

2.  The prospective tenant subscribes to a plan \(offer objects in [!INCLUDE[spfshort](../Token/spfshort_md.md)]\), which generates a new subscription in a portal application and creates a new tenant in the [!INCLUDE[spfshort](../Token/spfshort_md.md)] database.

    During this process, a tenant uploads the public key for their certificate file. This lets the host to register the tenant and configure user security roles in [!INCLUDE[vmm12sp1_med](../Token/vmm12sp1_med_md.md)].

3.  The portal applications and hoster administrators configure a tenant's connections to the hosterâ€™s service by using the service OData protocol URLs and tokens verified with the tenant's certificate that contains the private key.

Hoster administrators can also use the IDs generated by [!INCLUDE[spfshort](../Token/spfshort_md.md)] cmdlets that create tenant or tenant user roles as the ID values for the corresponding [!INCLUDE[vmm12short](../Token/vmm12short_md.md)] cmdlets that create actual user roles. The [!INCLUDE[spfshort](../Token/spfshort_md.md)] cmdlets do the following:

-   Generate the ID for a Tenant Administrator User Role when a tenant is created by using the T:Microsoft.SystemCenter.Foundation.Cmdlet.New\-SCSPFTenant cmdlet.

-   Generate the ID for a Tenant Self\-Service User Role when a tenant user role is created by using the T:Microsoft.SystemCenter.Foundation.Cmdlet.New\-SCSPFTenantUserRole  cmdlet.

Multi\-tenancy is additionally aided by new feature capabilities that are available in Windows Server 2012 such as Network Virtualization.

## Managing certificates and user roles topics

-   [Walkthrough: Creating a Certificate and User Roles for Service Provider Foundation](../Topic/Walkthrough--Creating-a-Certificate-and-User-Roles-for-Service-Provider-Foundation.md)

    This walkthrough topic provides procedures for creating and accessing certificates, obtaining keys, and creating security user roles.

## Other resources for this component

-   [Windows Azure Pack Authentication Overview](http://msdn.microsoft.com/library/dn479300.aspx)

-   TechNet Library main page for [Service Provider Foundation](../Topic/Service-Provider-Foundation.md)

-   [Administering Service Provider Foundation](../Topic/Administering-Service-Provider-Foundation.md)

-   [Deploying Service Provider Foundation](../Topic/Deploying-Service-Provider-Foundation.md)

