---
title: How and When to Clear the Cache
description: This article provides guidance on how to manage the cache for the HealthService on management servers and agents in System Center Operations Manager.
author: jyothisuri
ms.author: jsuri
manager: mkluck
ms.date: 01/04/2018
ms.custom: UpdateFrequency2
ms.prod: system-center
ms.technology: operations-manager
ms.topic: article
ms.assetid: bea86d42-4838-46b0-96ac-75a0e8988e3c
---
# How and When to Clear the Cache

::: moniker range=">= sc-om-1801 <= sc-om-1807"

[!INCLUDE [eos-notes-operations-manager.md](../includes/eos-notes-operations-manager.md)]

::: moniker-end

In System Center Operations Manager, when troubleshooting an issue with the Operations console or with an agent, you may see recommendations to "clear the cache." For more information on troubleshooting an issue with an agent, see [Not monitored and gray agents](manage-agents-not-healthy.md).  

## To clear the cache

The following table explains how and when to clear the console cache or agent cache.  

|Cache|How to clear|When|Results|  
|---------|----------------|--------|-----------|  
|Operations console|Open the Operations console with the **/clearcache** parameter.|Use this method to open the Operations console if you experience errors trying to retrieve data in views, such as ObjectNotFoundExceptions, or when the cache file grows too large and you want to reduce its size on disk.|Opening the Operations console with<br> **/clearcache** deletes the following file:<br><br>%systemdrive%\Users\*username*\AppData\ <br> Local\Microsoft\ <br> Microsoft.EnterpriseManagement.Monitoring.Console\ <br> momcache.mdb|  
|Health service on agent-managed computer|1.  In the **Monitoring** workspace, expand **Operations Manager**<br> and then expand **Agent Details**.<br>2.  Select **Agent Health State**.<br>3.  In **Agent State**, select an agent.<br>4.  In the **Tasks** pane, select **Flush Health Service State and Cache**.|This should be the final step when troubleshooting issues with the agent, before uninstalling and reinstalling the agent.|Clearing the agent cache can cause data loss<br> of monitoring data from that system.<br><br>1.  Stops the Microsoft Monitoring Agent service.<br>2.  Deletes the health service store files.<br>3.  Resets the state of the agent, including all rules,<br> monitors, outgoing data, and cached<br> management packs.<br>4.  Starts the Microsoft Monitoring Agent service.<br><br> When the service restarts, the agent requests<br> configuration from its primary assigned<br> management server.<br> **Note:** Because this task deletes the cached data<br> in the health service store files,<br> including the record of this task itself,<br> no task status is reported<br> on completion of the task.|  
|Health service on management server|1.  In the **Monitoring** workspace, expand **Operations Manager**<br> and then expand **Management Server**.<br>2.  Select **Management Servers State**.<br>3.  In **Management Server State**, select a management server.<br>4.  In the **Tasks** pane, select **Flush Health Service State and Cache**.|Run this task on a management server when the management server isn't functional, a restart hasn't fixed the problem, and you've exhausted other troubleshooting options.|Clearing the agent cache can cause<br> data loss of monitoring data from<br> agents to the management server.<br><br>1.  Stops the Microsoft Monitoring Agent service.<br>2.  Deletes the health service store files.<br>3.  Resets the state of the agent, including all rules,<br> monitors, outgoing data, and<br> cached management packs.<br>4.  Starts the Microsoft Monitoring Agent service.<br> **Note:** Because this task deletes the cached<br> data in the health service store files,<br> including the record of this task itself,<br> no task status will be reported<br> on completion of the task.|  

## Next steps

- To understand how it can help you review alerts that have been generated by rules and monitors that are still active, review [Viewing Active Alerts and Details](manage-alert-view-alerts-details.md).

- To understand how Operations Manager monitors the communication channel between an agent and its primary management server to ensure it's responsive and available, see [How Heartbeats Work in Operations Manager](manage-agent-heartbeat-overview.md).
